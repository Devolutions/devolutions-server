{
  "info": {
    "_postman_id": "4cd30733-b4ad-4ae2-90ae-e8b9aba4f450",
    "name": "Devolutions Server REST Services (Public)",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "GetServerInfo",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "48864048-dc26-485b-9dd7-3d2658db068d",
                "exec": [
                  "eval(postman.getGlobalVariable(\"jsbn_script\"));",
                  "",
                  "var session_key = generateKey(256);",
                  "",
                  "postman.setEnvironmentVariable(\"sessionkey\", session_key);",
                  "",
                  "var jsonData = JSON.parse(responseBody);",
                  "",
                  "postman.setEnvironmentVariable(\"publickey_mod\", jsonData.data.publicKey.modulus);",
                  "postman.setEnvironmentVariable(\"publickey_exp\", jsonData.data.publicKey.exponent);",
                  "",
                  "console.log(\"session key:\" + session_key);",
                  "console.log(\"modulus:\" + jsonData.data.publicKey.modulus);",
                  "console.log(\"exponent:\" + jsonData.data.publicKey.exponent);",
                  "",
                  "var rsa = new RSAKey();",
                  "rsa.setPublic(postman.getEnvironmentVariable(\"publickey_mod\"), postman.getEnvironmentVariable(\"publickey_exp\"));",
                  "var safeSessionKey = rsa.encrypt(session_key);",
                  "console.log(\"safe session key:\" + safeSessionKey);",
                  "",
                  "postman.setEnvironmentVariable(\"EncryptedSessionKey\", safeSessionKey);",
                  "tests[\"GetServerInfo\"] = jsonData.result === 1;",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "d80ea204-709f-4c8f-8e3a-088aac123d25",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json, text/plain, */*",
                "type": "text"
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": "{{url}}/api/v2/system/info"
          },
          "response": [
            {
              "id": "c41d5e37-6eaa-4a32-8996-bd016c08579b",
              "name": "Get ServerInfo",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json, text/plain, */*"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept-Encoding",
                    "value": "gzip, deflate, br"
                  }
                ],
                "url": "http://localhost/api/server-information"
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "responseTime": null,
              "body": "{\n    \"data\": {\n        \"publicKey\": {\n            \"exponent\": \"011001\",\n            \"modulus\": \"E6F5501B1138A2E2CC5208825FBABA6543DD30352346959D4E16E46150C5560AE3CB340DD51F3CED815E8AB7C60FB7DA68775DCBDEB51D006F5616FB97EB26FABA3E0B9F96AB3F6D5832565973ED7248F494E1483723A8EDA36605667FB3060CD2D9A0A322CCEEE2D6FC8C45B677B5AC6A7030536B9415ACC22DC70C958A0D8C\"\n        },\n        \"selectedTimeZoneId\": \"Eastern Standard Time\",\n        \"serverDescription\": \"Showcase environment\",\n        \"servername\": \"DPSShowcase\",\n        \"version\": \"2019.2.8.0\"\n    },\n    \"result\": 1\n}"
            }
          ]
        }
      ],
      "_postman_id": "0f9b69f4-2600-4b3f-9af4-5df483a8d599"
    },
    {
      "name": "PAM",
      "item": [
        {
          "name": "Accounts",
          "item": [],
          "_postman_id": "437f7550-0ec5-4e2e-a3af-34f6d85dc51d",
          "_postman_isSubFolder": true
        },
        {
          "name": "Providers",
          "item": [],
          "_postman_id": "39e97997-3530-4b39-ad24-25c35c27a509",
          "_postman_isSubFolder": true
        },
        {
          "name": "Requests",
          "item": [],
          "_postman_id": "8311917b-6c4a-4f84-ae24-d5635d8a8da9",
          "_postman_isSubFolder": true
        }
      ],
      "_postman_id": "a6cdef07-45a7-41aa-a396-59125c52dabe"
    }
  ]
}